var D,u;"function"==typeof(D=globalThis.define)&&(u=D,D=null),function(u,e,t,o,r){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof n[o]&&n[o],C=a.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(D,e){if(!C[D]){if(!u[D]){var t="function"==typeof n[o]&&n[o];if(!e&&t)return t(D,!0);if(a)return a(D,!0);if(c&&"string"==typeof D)return c(D);var r=Error("Cannot find module '"+D+"'");throw r.code="MODULE_NOT_FOUND",r}l.resolve=function(e){var t=u[D][1][e];return null!=t?t:e},l.cache={};var i=C[D]=new s.Module(D);u[D][0].call(i.exports,l,i,i.exports,this)}return C[D].exports;function l(D){var u=l.resolve(D);return!1===u?{}:s(u)}}s.isParcelRequire=!0,s.Module=function(D){this.id=D,this.bundle=s,this.exports={}},s.modules=u,s.cache=C,s.parent=a,s.register=function(D,e){u[D]=[function(D,u){u.exports=e},{}]},Object.defineProperty(s,"root",{get:function(){return n[o]}}),n[o]=s;for(var i=0;i<e.length;i++)s(e[i]);if(t){var l=s(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof D&&D.amd?D(function(){return l}):r&&(this[r]=l)}}({kgW6q:[function(D,u,e){D("../../../background")},{"../../../background":"8VaxY"}],"8VaxY":[function(D,u,e){var t=D("~utils/storage"),o=D("~utils/proxy");let r=null;async function n(D){switch(D.type){case"GET_PROXIES":let u=await (0,t.getProxies)(),e=await (0,t.getActiveProxy)(),o=u.map(D=>({...D,isActive:D.id===e}));return{success:!0,data:o};case"ADD_PROXY":return await a(D.data);case"UPDATE_PROXY":return await C(D.data);case"DELETE_PROXY":return await c(D.data.id);case"ACTIVATE_PROXY":return await s(D.data.id);case"DISCONNECT_PROXY":return await i();case"GET_STATUS":return await l();case"IMPORT_PROXIES":return await d(D.data);case"EXPORT_PROXIES":return await F();default:return{success:!1,error:"Unknown message type"}}}async function a(D){try{let u=await (0,t.addProxy)(D);return{success:!0,data:u}}catch(D){return{success:!1,error:D.message}}}async function C(D){try{return await (0,t.updateProxy)(D),{success:!0}}catch(D){return{success:!1,error:D.message}}}async function c(D){try{let u=await (0,t.getActiveProxy)();return u===D&&await i(),await (0,t.deleteProxy)(D),{success:!0}}catch(D){return{success:!1,error:D.message}}}async function s(D){try{let u=await (0,t.getProxies)(),e=u.find(u=>u.id===D);if(!e)return{success:!1,error:"\u4ee3\u7406\u4e0d\u5b58\u5728"};return e.username&&e.password?(r={username:e.username,password:e.password},chrome.webRequest&&chrome.webRequest.onAuthRequired&&(chrome.webRequest.onAuthRequired.removeListener(f),chrome.webRequest.onAuthRequired.addListener(f,{urls:["<all_urls>"]},["asyncBlocking"]))):(r=null,E()),await (0,o.applyProxy)(e),await (0,t.saveActiveProxy)(D),(0,o.setBadge)(e.name.charAt(0).toUpperCase()),{success:!0,data:e}}catch(D){return{success:!1,error:D.message}}}async function i(){try{return await (0,o.disableProxy)(),await (0,t.saveActiveProxy)(null),r=null,E(),(0,o.clearBadge)(),{success:!0}}catch(D){return{success:!1,error:D.message}}}async function l(){try{let D=await (0,t.getActiveProxy)(),u=null;if(D){let e=await (0,t.getProxies)();u=e.find(u=>u.id===D)||null}return{success:!0,data:{isEnabled:!!u,currentProxy:u,connectionStatus:u?"connected":"disconnected"}}}catch(D){return{success:!1,error:D.message}}}async function d(D){try{let u=await (0,t.getProxies)(),e=[...u,...D];return await (0,t.saveProxies)(e),{success:!0,data:e}}catch(D){return{success:!1,error:D.message}}}async function F(){try{let D=await (0,t.getProxies)();return{success:!0,data:D}}catch(D){return{success:!1,error:D.message}}}function E(){chrome.webRequest&&chrome.webRequest.onAuthRequired&&chrome.webRequest.onAuthRequired.removeListener(f)}function f(D){if(r&&D.isProxy)return{username:r.username,password:r.password}}chrome.runtime.onInstalled.addListener(()=>{console.log("Modern Proxy Switch installed"),(0,o.disableProxy)().catch(console.error),(0,o.clearBadge)()}),chrome.runtime.onStartup.addListener(async()=>{try{let D=await (0,t.getActiveProxy)();if(D){let u=await (0,t.getProxies)(),e=u.find(u=>u.id===D);e?(await (0,o.applyProxy)(e),(0,o.setBadge)(e.name.charAt(0).toUpperCase())):(await (0,t.saveActiveProxy)(null),(0,o.clearBadge)())}}catch(D){console.error("Failed to restore proxy on startup:",D)}}),chrome.runtime.onMessage.addListener((D,u,e)=>(n(D).then(e).catch(D=>{e({success:!1,error:D.message})}),!0))},{"~utils/storage":"fmp01","~utils/proxy":"3OnGs"}],fmp01:[function(D,u,e){var t=D("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(e),t.export(e,"STORAGE_KEYS",()=>r),t.export(e,"getProxies",()=>n),t.export(e,"saveProxies",()=>a),t.export(e,"getSettings",()=>C),t.export(e,"saveSettings",()=>c),t.export(e,"getActiveProxy",()=>s),t.export(e,"saveActiveProxy",()=>i),t.export(e,"generateId",()=>l),t.export(e,"addProxy",()=>d),t.export(e,"updateProxy",()=>F),t.export(e,"deleteProxy",()=>E),t.export(e,"validateProxyConfig",()=>f);var o=D("./location");let r={PROXIES:"proxies",SETTINGS:"settings",ACTIVE_PROXY:"activeProxy",PROXY_STATUS:"proxyStatus"},n=async()=>{let D=await chrome.storage.sync.get(r.PROXIES);return D[r.PROXIES]||[]},a=async D=>{await chrome.storage.sync.set({[r.PROXIES]:D})},C=async()=>{let D=await chrome.storage.sync.get(r.SETTINGS);return{autoConnect:!1,showNotifications:!0,theme:"auto",...D[r.SETTINGS]}},c=async D=>{await chrome.storage.sync.set({[r.SETTINGS]:D})},s=async()=>{let D=await chrome.storage.local.get(r.ACTIVE_PROXY);return D[r.ACTIVE_PROXY]||null},i=async D=>{D?await chrome.storage.local.set({[r.ACTIVE_PROXY]:D}):await chrome.storage.local.remove(r.ACTIVE_PROXY)},l=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),d=async D=>{let u=await n(),e={...D,id:l()};return u.push(e),await a(u),!e.location&&e.host&&(0,o.detectLocationOnline)(e.host).then(async D=>{let u=await n(),t=u.findIndex(D=>D.id===e.id);if(-1!==t){u[t].location=D.location,u[t].countryCode=D.countryCode,await a(u);try{chrome.runtime.sendMessage({type:"PROXY_LOCATION_UPDATED",data:{proxyId:e.id,host:e.host,location:D.location,countryCode:D.countryCode}})}catch(D){}}}).catch(console.error),e},F=async D=>{let u=await n(),e=u.findIndex(u=>u.id===D.id);if(-1!==e){let t=u[e].host;u[e]=D,await a(u),t===D.host||D.location||(0,o.detectLocationOnline)(D.host).then(async u=>{let e=await n(),t=e.findIndex(u=>u.id===D.id);if(-1!==t){e[t].location=u.location,e[t].countryCode=u.countryCode,await a(e);try{chrome.runtime.sendMessage({type:"PROXY_LOCATION_UPDATED",data:{proxyId:D.id,host:D.host,location:u.location,countryCode:u.countryCode}})}catch(D){}}}).catch(console.error)}},E=async D=>{let u=await n(),e=u.filter(u=>u.id!==D);await a(e)},f=D=>{let u=[];return D.name?.trim()||u.push("\u4ee3\u7406\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),D.host?.trim()||u.push("\u670d\u52a1\u5668\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a"),(!D.port||D.port<1||D.port>65535)&&u.push("\u7aef\u53e3\u53f7\u5fc5\u987b\u57281-65535\u4e4b\u95f4"),D.type&&["http","https","socks4","socks5"].includes(D.type)||u.push("\u4ee3\u7406\u7c7b\u578b\u65e0\u6548"),u}},{"./location":"dlqob","@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],dlqob:[function(D,u,e){var t=D("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(e),t.export(e,"addLocationUpdateListener",()=>r),t.export(e,"detectLocationOnline",()=>s),t.export(e,"detectLocation",()=>F),t.export(e,"getLocationDisplay",()=>E),t.export(e,"getLocationShort",()=>f),t.export(e,"clearLocationCache",()=>y),t.export(e,"preloadLocations",()=>p);let o=new Set;function r(D){return o.add(D),()=>o.delete(D)}function n(D,u){o.forEach(e=>{try{e(D,u)}catch(D){console.error("Location update listener error:",D)}})}let a={CN:"\uD83C\uDDE8\uD83C\uDDF3",US:"\uD83C\uDDFA\uD83C\uDDF8",JP:"\uD83C\uDDEF\uD83C\uDDF5",KR:"\uD83C\uDDF0\uD83C\uDDF7",SG:"\uD83C\uDDF8\uD83C\uDDEC",HK:"\uD83C\uDDED\uD83C\uDDF0",TW:"\uD83C\uDDF9\uD83C\uDDFC",GB:"\uD83C\uDDEC\uD83C\uDDE7",UK:"\uD83C\uDDEC\uD83C\uDDE7",DE:"\uD83C\uDDE9\uD83C\uDDEA",FR:"\uD83C\uDDEB\uD83C\uDDF7",NL:"\uD83C\uDDF3\uD83C\uDDF1",RU:"\uD83C\uDDF7\uD83C\uDDFA",CA:"\uD83C\uDDE8\uD83C\uDDE6",AU:"\uD83C\uDDE6\uD83C\uDDFA",BR:"\uD83C\uDDE7\uD83C\uDDF7",IN:"\uD83C\uDDEE\uD83C\uDDF3",IT:"\uD83C\uDDEE\uD83C\uDDF9",ES:"\uD83C\uDDEA\uD83C\uDDF8",SE:"\uD83C\uDDF8\uD83C\uDDEA",NO:"\uD83C\uDDF3\uD83C\uDDF4",FI:"\uD83C\uDDEB\uD83C\uDDEE",DK:"\uD83C\uDDE9\uD83C\uDDF0",CH:"\uD83C\uDDE8\uD83C\uDDED",AT:"\uD83C\uDDE6\uD83C\uDDF9",BE:"\uD83C\uDDE7\uD83C\uDDEA",IE:"\uD83C\uDDEE\uD83C\uDDEA",PT:"\uD83C\uDDF5\uD83C\uDDF9",GR:"\uD83C\uDDEC\uD83C\uDDF7",PL:"\uD83C\uDDF5\uD83C\uDDF1",CZ:"\uD83C\uDDE8\uD83C\uDDFF",HU:"\uD83C\uDDED\uD83C\uDDFA",SK:"\uD83C\uDDF8\uD83C\uDDF0",SI:"\uD83C\uDDF8\uD83C\uDDEE",HR:"\uD83C\uDDED\uD83C\uDDF7",BG:"\uD83C\uDDE7\uD83C\uDDEC",RO:"\uD83C\uDDF7\uD83C\uDDF4",LT:"\uD83C\uDDF1\uD83C\uDDF9",LV:"\uD83C\uDDF1\uD83C\uDDFB",EE:"\uD83C\uDDEA\uD83C\uDDEA",UA:"\uD83C\uDDFA\uD83C\uDDE6",BY:"\uD83C\uDDE7\uD83C\uDDFE",MD:"\uD83C\uDDF2\uD83C\uDDE9",GE:"\uD83C\uDDEC\uD83C\uDDEA",AM:"\uD83C\uDDE6\uD83C\uDDF2",AZ:"\uD83C\uDDE6\uD83C\uDDFF",KZ:"\uD83C\uDDF0\uD83C\uDDFF",UZ:"\uD83C\uDDFA\uD83C\uDDFF",KG:"\uD83C\uDDF0\uD83C\uDDEC",TJ:"\uD83C\uDDF9\uD83C\uDDEF",TM:"\uD83C\uDDF9\uD83C\uDDF2",MN:"\uD83C\uDDF2\uD83C\uDDF3",MM:"\uD83C\uDDF2\uD83C\uDDF2",LA:"\uD83C\uDDF1\uD83C\uDDE6",KH:"\uD83C\uDDF0\uD83C\uDDED",VN:"\uD83C\uDDFB\uD83C\uDDF3",TH:"\uD83C\uDDF9\uD83C\uDDED",MY:"\uD83C\uDDF2\uD83C\uDDFE",ID:"\uD83C\uDDEE\uD83C\uDDE9",PH:"\uD83C\uDDF5\uD83C\uDDED",BD:"\uD83C\uDDE7\uD83C\uDDE9",PK:"\uD83C\uDDF5\uD83C\uDDF0",LK:"\uD83C\uDDF1\uD83C\uDDF0",NP:"\uD83C\uDDF3\uD83C\uDDF5",AF:"\uD83C\uDDE6\uD83C\uDDEB",IR:"\uD83C\uDDEE\uD83C\uDDF7",IQ:"\uD83C\uDDEE\uD83C\uDDF6",SY:"\uD83C\uDDF8\uD83C\uDDFE",LB:"\uD83C\uDDF1\uD83C\uDDE7",JO:"\uD83C\uDDEF\uD83C\uDDF4",PS:"\uD83C\uDDF5\uD83C\uDDF8",IL:"\uD83C\uDDEE\uD83C\uDDF1",SA:"\uD83C\uDDF8\uD83C\uDDE6",AE:"\uD83C\uDDE6\uD83C\uDDEA",QA:"\uD83C\uDDF6\uD83C\uDDE6",KW:"\uD83C\uDDF0\uD83C\uDDFC",BH:"\uD83C\uDDE7\uD83C\uDDED",OM:"\uD83C\uDDF4\uD83C\uDDF2",YE:"\uD83C\uDDFE\uD83C\uDDEA",EG:"\uD83C\uDDEA\uD83C\uDDEC",LY:"\uD83C\uDDF1\uD83C\uDDFE",TN:"\uD83C\uDDF9\uD83C\uDDF3",DZ:"\uD83C\uDDE9\uD83C\uDDFF",MA:"\uD83C\uDDF2\uD83C\uDDE6",ZA:"\uD83C\uDDFF\uD83C\uDDE6",NG:"\uD83C\uDDF3\uD83C\uDDEC",KE:"\uD83C\uDDF0\uD83C\uDDEA",ET:"\uD83C\uDDEA\uD83C\uDDF9",GH:"\uD83C\uDDEC\uD83C\uDDED",UG:"\uD83C\uDDFA\uD83C\uDDEC",TZ:"\uD83C\uDDF9\uD83C\uDDFF",MZ:"\uD83C\uDDF2\uD83C\uDDFF",ZW:"\uD83C\uDDFF\uD83C\uDDFC",BW:"\uD83C\uDDE7\uD83C\uDDFC",ZM:"\uD83C\uDDFF\uD83C\uDDF2",MW:"\uD83C\uDDF2\uD83C\uDDFC",MG:"\uD83C\uDDF2\uD83C\uDDEC",MU:"\uD83C\uDDF2\uD83C\uDDFA",SC:"\uD83C\uDDF8\uD83C\uDDE8",CV:"\uD83C\uDDE8\uD83C\uDDFB",MX:"\uD83C\uDDF2\uD83C\uDDFD",GT:"\uD83C\uDDEC\uD83C\uDDF9",BZ:"\uD83C\uDDE7\uD83C\uDDFF",CR:"\uD83C\uDDE8\uD83C\uDDF7",PA:"\uD83C\uDDF5\uD83C\uDDE6",CO:"\uD83C\uDDE8\uD83C\uDDF4",VE:"\uD83C\uDDFB\uD83C\uDDEA",GY:"\uD83C\uDDEC\uD83C\uDDFE",SR:"\uD83C\uDDF8\uD83C\uDDF7",GF:"\uD83C\uDDEC\uD83C\uDDEB",EC:"\uD83C\uDDEA\uD83C\uDDE8",PE:"\uD83C\uDDF5\uD83C\uDDEA",BO:"\uD83C\uDDE7\uD83C\uDDF4",PY:"\uD83C\uDDF5\uD83C\uDDFE",UY:"\uD83C\uDDFA\uD83C\uDDFE",AR:"\uD83C\uDDE6\uD83C\uDDF7",CL:"\uD83C\uDDE8\uD83C\uDDF1",FK:"\uD83C\uDDEB\uD83C\uDDF0",NZ:"\uD83C\uDDF3\uD83C\uDDFF",FJ:"\uD83C\uDDEB\uD83C\uDDEF",NC:"\uD83C\uDDF3\uD83C\uDDE8",PG:"\uD83C\uDDF5\uD83C\uDDEC",SB:"\uD83C\uDDF8\uD83C\uDDE7",VU:"\uD83C\uDDFB\uD83C\uDDFA",TO:"\uD83C\uDDF9\uD83C\uDDF4",WS:"\uD83C\uDDFC\uD83C\uDDF8",KI:"\uD83C\uDDF0\uD83C\uDDEE",TV:"\uD83C\uDDF9\uD83C\uDDFB",NR:"\uD83C\uDDF3\uD83C\uDDF7",PW:"\uD83C\uDDF5\uD83C\uDDFC",FM:"\uD83C\uDDEB\uD83C\uDDF2",MH:"\uD83C\uDDF2\uD83C\uDDED",MP:"\uD83C\uDDF2\uD83C\uDDF5",GU:"\uD83C\uDDEC\uD83C\uDDFA",AS:"\uD83C\uDDE6\uD83C\uDDF8",PR:"\uD83C\uDDF5\uD83C\uDDF7",VI:"\uD83C\uDDFB\uD83C\uDDEE",TC:"\uD83C\uDDF9\uD83C\uDDE8",VG:"\uD83C\uDDFB\uD83C\uDDEC",AI:"\uD83C\uDDE6\uD83C\uDDEE"},C={CN:"\u4e2d\u56fd",US:"\u7f8e\u56fd",JP:"\u65e5\u672c",KR:"\u97e9\u56fd",SG:"\u65b0\u52a0\u5761",HK:"\u9999\u6e2f",TW:"\u53f0\u6e7e",GB:"\u82f1\u56fd",UK:"\u82f1\u56fd",DE:"\u5fb7\u56fd",FR:"\u6cd5\u56fd",NL:"\u8377\u5170",RU:"\u4fc4\u7f57\u65af",CA:"\u52a0\u62ff\u5927",AU:"\u6fb3\u5927\u5229\u4e9a",BR:"\u5df4\u897f",IN:"\u5370\u5ea6",IT:"\u610f\u5927\u5229",ES:"\u897f\u73ed\u7259",SE:"\u745e\u5178",NO:"\u632a\u5a01",FI:"\u82ac\u5170",DK:"\u4e39\u9ea6",CH:"\u745e\u58eb",AT:"\u5965\u5730\u5229",BE:"\u6bd4\u5229\u65f6",IE:"\u7231\u5c14\u5170",PT:"\u8461\u8404\u7259",GR:"\u5e0c\u814a",PL:"\u6ce2\u5170",CZ:"\u6377\u514b",HU:"\u5308\u7259\u5229",SK:"\u65af\u6d1b\u4f10\u514b",SI:"\u65af\u6d1b\u6587\u5c3c\u4e9a",HR:"\u514b\u7f57\u5730\u4e9a",BG:"\u4fdd\u52a0\u5229\u4e9a",RO:"\u7f57\u9a6c\u5c3c\u4e9a",LT:"\u7acb\u9676\u5b9b",LV:"\u62c9\u8131\u7ef4\u4e9a",EE:"\u7231\u6c99\u5c3c\u4e9a",UA:"\u4e4c\u514b\u5170",BY:"\u767d\u4fc4\u7f57\u65af",MD:"\u6469\u5c14\u591a\u74e6",GE:"\u683c\u9c81\u5409\u4e9a",AM:"\u4e9a\u7f8e\u5c3c\u4e9a",AZ:"\u963f\u585e\u62dc\u7586",KZ:"\u54c8\u8428\u514b\u65af\u5766",UZ:"\u4e4c\u5179\u522b\u514b\u65af\u5766",KG:"\u5409\u5c14\u5409\u65af\u65af\u5766",TJ:"\u5854\u5409\u514b\u65af\u5766",TM:"\u571f\u5e93\u66fc\u65af\u5766",MN:"\u8499\u53e4",MM:"\u7f05\u7538",LA:"\u8001\u631d",KH:"\u67ec\u57d4\u5be8",VN:"\u8d8a\u5357",TH:"\u6cf0\u56fd",MY:"\u9a6c\u6765\u897f\u4e9a",ID:"\u5370\u5ea6\u5c3c\u897f\u4e9a",PH:"\u83f2\u5f8b\u5bbe",BD:"\u5b5f\u52a0\u62c9\u56fd",PK:"\u5df4\u57fa\u65af\u5766",LK:"\u65af\u91cc\u5170\u5361",NP:"\u5c3c\u6cca\u5c14",AF:"\u963f\u5bcc\u6c57",IR:"\u4f0a\u6717",IQ:"\u4f0a\u62c9\u514b",SY:"\u53d9\u5229\u4e9a",LB:"\u9ece\u5df4\u5ae9",JO:"\u7ea6\u65e6",PS:"\u5df4\u52d2\u65af\u5766",IL:"\u4ee5\u8272\u5217",SA:"\u6c99\u7279\u963f\u62c9\u4f2f",AE:"\u963f\u8054\u914b",QA:"\u5361\u5854\u5c14",KW:"\u79d1\u5a01\u7279",BH:"\u5df4\u6797",OM:"\u963f\u66fc",YE:"\u4e5f\u95e8",EG:"\u57c3\u53ca",LY:"\u5229\u6bd4\u4e9a",TN:"\u7a81\u5c3c\u65af",DZ:"\u963f\u5c14\u53ca\u5229\u4e9a",MA:"\u6469\u6d1b\u54e5",ZA:"\u5357\u975e",NG:"\u5c3c\u65e5\u5229\u4e9a",KE:"\u80af\u5c3c\u4e9a",ET:"\u57c3\u585e\u4fc4\u6bd4\u4e9a",GH:"\u52a0\u7eb3",UG:"\u4e4c\u5e72\u8fbe",TZ:"\u5766\u6851\u5c3c\u4e9a",MZ:"\u83ab\u6851\u6bd4\u514b",ZW:"\u6d25\u5df4\u5e03\u97e6",BW:"\u535a\u8328\u74e6\u7eb3",ZM:"\u8d5e\u6bd4\u4e9a",MW:"\u9a6c\u62c9\u7ef4",MG:"\u9a6c\u8fbe\u52a0\u65af\u52a0",MU:"\u6bdb\u91cc\u6c42\u65af",SC:"\u585e\u820c\u5c14",CV:"\u4f5b\u5f97\u89d2",MX:"\u58a8\u897f\u54e5",GT:"\u5371\u5730\u9a6c\u62c9",BZ:"\u4f2f\u5229\u5179",CR:"\u54e5\u65af\u8fbe\u9ece\u52a0",PA:"\u5df4\u62ff\u9a6c",CO:"\u54e5\u4f26\u6bd4\u4e9a",VE:"\u59d4\u5185\u745e\u62c9",GY:"\u572d\u4e9a\u90a3",SR:"\u82cf\u91cc\u5357",GF:"\u6cd5\u5c5e\u572d\u4e9a\u90a3",EC:"\u5384\u74dc\u591a\u5c14",PE:"\u79d8\u9c81",BO:"\u73bb\u5229\u7ef4\u4e9a",PY:"\u5df4\u62c9\u572d",UY:"\u4e4c\u62c9\u572d",AR:"\u963f\u6839\u5ef7",CL:"\u667a\u5229",FK:"\u798f\u514b\u5170\u7fa4\u5c9b",NZ:"\u65b0\u897f\u5170",FJ:"\u6590\u6d4e",NC:"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9a",PG:"\u5df4\u5e03\u4e9a\u65b0\u51e0\u5185\u4e9a",SB:"\u6240\u7f57\u95e8\u7fa4\u5c9b",VU:"\u74e6\u52aa\u963f\u56fe",TO:"\u6c64\u52a0",WS:"\u8428\u6469\u4e9a",KI:"\u57fa\u91cc\u5df4\u65af",TV:"\u56fe\u74e6\u5362",NR:"\u7459\u9c81",PW:"\u5e15\u52b3",FM:"\u5bc6\u514b\u7f57\u5c3c\u897f\u4e9a",MH:"\u9a6c\u7ecd\u5c14\u7fa4\u5c9b",MP:"\u5317\u9a6c\u91cc\u4e9a\u7eb3\u7fa4\u5c9b",GU:"\u5173\u5c9b",AS:"\u7f8e\u5c5e\u8428\u6469\u4e9a",PR:"\u6ce2\u591a\u9ece\u5404",VI:"\u7f8e\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b",TC:"\u7279\u514b\u65af\u548c\u51ef\u79d1\u65af\u7fa4\u5c9b",VG:"\u82f1\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b",AI:"\u5b89\u572d\u62c9"},c=new Map;async function s(D){let u=D.toLowerCase().trim(),e=c.get(u);if(e&&Date.now()-e.timestamp<864e5)return e.data;if("127.0.0.1"===u||"localhost"===u){let D={location:"\u672c\u5730\u4e3b\u673a",countryCode:"LOCALHOST",flag:"\uD83D\uDCBB"};return c.set(u,{data:D,timestamp:Date.now()}),D}if(/^\d+\.\d+\.\d+\.\d+$/.test(u)){let D=u.split(".").map(Number),[e,t]=D;if(192===e&&168===t){let D={location:"\u672c\u5730\u7f51\u7edc",countryCode:"LOCAL",flag:"\uD83C\uDFE0"};return c.set(u,{data:D,timestamp:Date.now()}),D}if(10===e){let D={location:"\u672c\u5730\u7f51\u7edc",countryCode:"LOCAL",flag:"\uD83C\uDFE0"};return c.set(u,{data:D,timestamp:Date.now()}),D}if(172===e&&t>=16&&t<=31){let D={location:"\u672c\u5730\u7f51\u7edc",countryCode:"LOCAL",flag:"\uD83C\uDFE0"};return c.set(u,{data:D,timestamp:Date.now()}),D}}if(!/^\d+\.\d+\.\d+\.\d+$/.test(u)){let D=u.split(".");if(D.length>=2){let e=D[D.length-1],t={cn:{location:"\u4e2d\u56fd",countryCode:"CN",flag:"\uD83C\uDDE8\uD83C\uDDF3"},us:{location:"\u7f8e\u56fd",countryCode:"US",flag:"\uD83C\uDDFA\uD83C\uDDF8"},jp:{location:"\u65e5\u672c",countryCode:"JP",flag:"\uD83C\uDDEF\uD83C\uDDF5"},kr:{location:"\u97e9\u56fd",countryCode:"KR",flag:"\uD83C\uDDF0\uD83C\uDDF7"},sg:{location:"\u65b0\u52a0\u5761",countryCode:"SG",flag:"\uD83C\uDDF8\uD83C\uDDEC"},hk:{location:"\u9999\u6e2f",countryCode:"HK",flag:"\uD83C\uDDED\uD83C\uDDF0"},tw:{location:"\u53f0\u6e7e",countryCode:"TW",flag:"\uD83C\uDDF9\uD83C\uDDFC"},de:{location:"\u5fb7\u56fd",countryCode:"DE",flag:"\uD83C\uDDE9\uD83C\uDDEA"},fr:{location:"\u6cd5\u56fd",countryCode:"FR",flag:"\uD83C\uDDEB\uD83C\uDDF7"},nl:{location:"\u8377\u5170",countryCode:"NL",flag:"\uD83C\uDDF3\uD83C\uDDF1"},ru:{location:"\u4fc4\u7f57\u65af",countryCode:"RU",flag:"\uD83C\uDDF7\uD83C\uDDFA"},ca:{location:"\u52a0\u62ff\u5927",countryCode:"CA",flag:"\uD83C\uDDE8\uD83C\uDDE6"},au:{location:"\u6fb3\u5927\u5229\u4e9a",countryCode:"AU",flag:"\uD83C\uDDE6\uD83C\uDDFA"},uk:{location:"\u82f1\u56fd",countryCode:"GB",flag:"\uD83C\uDDEC\uD83C\uDDE7"}};if(t[e]){let D=t[e];return c.set(u,{data:D,timestamp:Date.now()}),D}}}let t=[()=>i(u),()=>l(u)];for(let D of t)try{let e=await D();if(e)return c.set(u,{data:e,timestamp:Date.now()}),n(u,e),e}catch(D){console.warn("API\u8c03\u7528\u5931\u8d25:",D);continue}let o={location:"\u672a\u77e5",countryCode:"UNKNOWN",flag:"\uD83C\uDF10"};return c.set(u,{data:o,timestamp:Date.now()}),n(u,o),o}async function i(D){try{let u=await fetch(`http://ip-api.com/json/${D}?lang=zh-CN&fields=status,country,countryCode,region,regionName,city,isp,query`,{method:"GET",headers:{Accept:"application/json"}});if(!u.ok)return null;let e=await u.json();if("success"!==e.status)return null;let t=e.countryCode,o=a[t]||"\uD83C\uDF10",r=C[t]||e.country;return{location:e.city?`${r} ${e.city}`:r,countryCode:t,flag:o,city:e.city,region:e.regionName,isp:e.isp}}catch(D){return console.warn("IP-API\u8c03\u7528\u5931\u8d25:",D),null}}async function l(D){try{let u=await fetch(`https://ipinfo.io/${D}/json`,{method:"GET",headers:{Accept:"application/json"}});if(!u.ok)return null;let e=await u.json(),t=e.country,o=a[t]||"\uD83C\uDF10",r=C[t]||e.country;return{location:e.city?`${r} ${e.city}`:r,countryCode:t,flag:o,city:e.city,region:e.region,isp:e.org}}catch(D){return console.warn("IPInfo\u8c03\u7528\u5931\u8d25:",D),null}}let d=[{pattern:/^(1|14|27|36|39|42|58|59|60|61|101|103|106|110|111|112|113|114|115|116|117|118|119|120|121|122|123|124|125)\./,info:{location:"\u4e2d\u56fd",countryCode:"CN",flag:"\uD83C\uDDE8\uD83C\uDDF3"}},{pattern:/^(3|4|6|7|8|9|11|12|13|15|16|17|18|19|20|23|24|34|35|40|44|45|47|50|52|54|63|64|65|66|67|68|69|70|71|72|73|74|75|76)\./,info:{location:"\u7f8e\u56fd",countryCode:"US",flag:"\uD83C\uDDFA\uD83C\uDDF8"}},{pattern:/^(126|133|153|210|211|218|219|220)\./,info:{location:"\u65e5\u672c",countryCode:"JP",flag:"\uD83C\uDDEF\uD83C\uDDF5"}}];function F(D){let u=D.toLowerCase().trim(),e=c.get(u);if(e&&Date.now()-e.timestamp<864e5)return e.data;if("127.0.0.1"===u||"localhost"===u)return{location:"\u672c\u5730\u4e3b\u673a",countryCode:"LOCALHOST",flag:"\uD83D\uDCBB"};if(/^\d+\.\d+\.\d+\.\d+$/.test(u)){let D=u.split(".").map(Number),[e,t]=D;if(192===e&&168===t||10===e||172===e&&t>=16&&t<=31)return{location:"\u672c\u5730\u7f51\u7edc",countryCode:"LOCAL",flag:"\ufffd"};for(let{pattern:D,info:e}of d)if(D.test(u))return e}if(!/^\d+\.\d+\.\d+\.\d+$/.test(u)){let D=u.split(".");if(D.length>=2){let u=D[D.length-1],e={cn:{location:"\u4e2d\u56fd",countryCode:"CN",flag:"\uD83C\uDDE8\uD83C\uDDF3"},us:{location:"\u7f8e\u56fd",countryCode:"US",flag:"\uD83C\uDDFA\uD83C\uDDF8"},jp:{location:"\u65e5\u672c",countryCode:"JP",flag:"\uD83C\uDDEF\uD83C\uDDF5"},kr:{location:"\u97e9\u56fd",countryCode:"KR",flag:"\uD83C\uDDF0\uD83C\uDDF7"},sg:{location:"\u65b0\u52a0\u5761",countryCode:"SG",flag:"\uD83C\uDDF8\uD83C\uDDEC"},hk:{location:"\u9999\u6e2f",countryCode:"HK",flag:"\uD83C\uDDED\uD83C\uDDF0"},tw:{location:"\u53f0\u6e7e",countryCode:"TW",flag:"\uD83C\uDDF9\uD83C\uDDFC"},de:{location:"\u5fb7\u56fd",countryCode:"DE",flag:"\uD83C\uDDE9\uD83C\uDDEA"},fr:{location:"\u6cd5\u56fd",countryCode:"FR",flag:"\uD83C\uDDEB\uD83C\uDDF7"},nl:{location:"\u8377\u5170",countryCode:"NL",flag:"\uD83C\uDDF3\uD83C\uDDF1"},ru:{location:"\u4fc4\u7f57\u65af",countryCode:"RU",flag:"\uD83C\uDDF7\uD83C\uDDFA"},ca:{location:"\u52a0\u62ff\u5927",countryCode:"CA",flag:"\uD83C\uDDE8\uD83C\uDDE6"},au:{location:"\u6fb3\u5927\u5229\u4e9a",countryCode:"AU",flag:"\uD83C\uDDE6\uD83C\uDDFA"},uk:{location:"\u82f1\u56fd",countryCode:"GB",flag:"\ufffd\ufffd"}};if(e[u])return e[u]}}return s(u).then(D=>{}).catch(console.error),{location:"\u67e5\u8be2\u4e2d...",countryCode:"LOADING",flag:"\uD83D\uDD0D"}}function E(D){let u=F(D);return`${u.flag} ${u.location}`}function f(D){let u=F(D);return u.location}function y(){c.clear()}async function p(D){let u=D.map(D=>s(D).catch(u=>(console.warn(`\u9884\u52a0\u8f7dIP ${D} \u5931\u8d25:`,u),null)));await Promise.allSettled(u)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}],f6DG4:[function(D,u,e){e.interopDefault=function(D){return D&&D.__esModule?D:{default:D}},e.defineInteropFlag=function(D){Object.defineProperty(D,"__esModule",{value:!0})},e.exportAll=function(D,u){return Object.keys(D).forEach(function(e){"default"===e||"__esModule"===e||u.hasOwnProperty(e)||Object.defineProperty(u,e,{enumerable:!0,get:function(){return D[e]}})}),u},e.export=function(D,u,e){Object.defineProperty(D,u,{enumerable:!0,get:e})}},{}],"3OnGs":[function(D,u,e){var t=D("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(e),t.export(e,"applyProxy",()=>o),t.export(e,"disableProxy",()=>r),t.export(e,"setBadge",()=>n),t.export(e,"clearBadge",()=>a),t.export(e,"showNotification",()=>C),t.export(e,"checkProxyConnection",()=>c),t.export(e,"getCurrentProxySettings",()=>s);let o=async D=>{let u={mode:"fixed_servers",rules:{singleProxy:{scheme:D.type,host:D.host,port:D.port},bypassList:["localhost","127.0.0.1","<local>"]}};return new Promise((D,e)=>{chrome.proxy.settings.set({value:u,scope:"regular"},()=>{chrome.runtime.lastError?e(Error(chrome.runtime.lastError.message)):D()})})},r=async()=>{let D={mode:"system"};return new Promise((u,e)=>{chrome.proxy.settings.set({value:D,scope:"regular"},()=>{chrome.runtime.lastError?e(Error(chrome.runtime.lastError.message)):u()})})},n=(D,u="#4CAF50")=>{chrome.action.setBadgeText({text:D}),chrome.action.setBadgeBackgroundColor({color:u})},a=()=>{chrome.action.setBadgeText({text:""})},C=(D,u)=>{chrome.notifications.create({type:"basic",iconUrl:"icon.png",title:D,message:u})},c=async D=>{try{return!0}catch(D){return console.error("Proxy connection test failed:",D),!1}},s=async()=>new Promise(D=>{chrome.proxy.settings.get({},u=>{D(u.value)})})},{"@parcel/transformer-js/src/esmodule-helpers.js":"f6DG4"}]},["kgW6q"],"kgW6q","parcelRequired662"),globalThis.define=u;